{"version":3,"sources":["components/styles.module.css","components/ImageGalleryItem.js","components/Searchbar.js","apiService/ApiService.js","components/Modal.js","components/ImageGallery.js","App.js","index.js"],"names":["module","exports","ImageGalleryItem","imgArray","onGalleryImageClick","map","el","className","style","src","webformatURL","alt","tags","ImageGalleryItem__image","onClick","id","Searchbar","onSubmit","useState","find","setFind","SearchForm","e","preventDefault","trim","alert","type","SearchForm__button","SearchForm__buttonLabel","SearchForm__input","value","autoComplete","autoFocus","placeholder","onChange","target","ImagesApiService","searchQuery","page","base_url","pixabay","key","per_page","url","axios","get","then","result","data","Modal","toggleModal","bigImg","useEffect","window","addEventListener","handleEscape","removeEventListener","code","Overlay","currentTarget","largeImageURL","ImageGallery","setImgArray","setPage","status","setStatus","showModal","setShowModal","setBigImg","searchImg","setSearchImg","hits","length","catch","error","prev","onPageScroll","scrollTo","top","document","documentElement","offsetHeight","behavior","text","loading","color","height","width","timeout","imgSrc","Button","App","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.bcbcbe14.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"styles_Searchbar__MZQM7\",\"SearchForm\":\"styles_SearchForm__1UtAm\",\"SearchForm__button\":\"styles_SearchForm__button__3mzZE\",\"SearchForm__buttonLabel\":\"styles_SearchForm__buttonLabel__1wo7B\",\"SearchForm__input\":\"styles_SearchForm__input__37bpK\",\"ImageGallery\":\"styles_ImageGallery__2VuoT\",\"ImageGalleryItem\":\"styles_ImageGalleryItem__1XQjo\",\"ImageGalleryItem__image\":\"styles_ImageGalleryItem__image__3RMIn\",\"ImageGalleryItem-image\":\"styles_ImageGalleryItem-image__11jwm\",\"Overlay\":\"styles_Overlay__3VHVn\",\"Modal\":\"styles_Modal__1k8UN\",\"Button\":\"styles_Button__2BlLB\",\"text\":\"styles_text__2THab\",\"loading\":\"styles_loading__3zoc0\"};","import style from \"./styles.module.css\";\nimport PropTypes from \"prop-types\";\n\nexport default function ImageGalleryItem({imgArray, onGalleryImageClick}) {\n  return imgArray.map((el) => (\n      <li className={style.ImageGalleryItem} key={el.id}>\n        <img\n          src={el.webformatURL}\n          alt={el.tags}\n          className={style.ImageGalleryItem__image}\n          onClick={onGalleryImageClick}\n        />\n      </li>\n    ));\n}\n\nImageGalleryItem.propTypes = {\n  imgArray: PropTypes.array.isRequired,\n  onGalleryImageClick: PropTypes.func.isRequired,\n};\n","import { useState } from \"react\";\nimport PropTypes from \"prop-types\";\nimport style from \"./styles.module.css\";\n\nexport default function Searchbar({ onSubmit }) {\n  const [find, setFind] = useState(\"\");\n\n  const handleChangeInput = (e) => {\n    setFind(e.target.value);\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    if (find.trim() === \"\") {\n      alert(\"Please type searchihg query\");\n      return;\n    }\n    onSubmit(find);\n    setFind(\"\");\n  };\n\n  return (\n      <header className={style.Searchbar}>\n        <form className={style.SearchForm} onSubmit={handleSubmit}>\n          <button type=\"submit\" className={style.SearchForm__button}>\n            <span className={style.SearchForm__buttonLabel}>Search</span>\n          </button>\n\n          <input\n            className={style.SearchForm__input}\n            type=\"text\"\n            value={find}\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n            onChange={handleChangeInput}\n          />\n        </form>\n      </header>\n    );\n}\n\nSearchbar.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n};\n","import axios from \"axios\";\nimport pixabay from \"../apiService/pixabay.json\";\n\nexport default function ImagesApiService(searchQuery, page) {\n  const base_url = pixabay.base_url;\n  const key = pixabay.key;\n  const per_page = pixabay.per_page;\n  const url = `${base_url}?image_type=photo&orientation=horizontal&q=${searchQuery}&page=${page}&per_page=${per_page}&key=${key}`;\n \n  return axios.get(url).then((result) => result.data);\n  \n}","import { useEffect } from \"react\";\nimport style from \"./styles.module.css\";\nimport PropTypes from \"prop-types\";\n\nexport default function Modal({ toggleModal, bigImg }) {\n  useEffect(() => {\n    window.addEventListener(\"keydown\", handleEscape);\n    return () => window.removeEventListener(\"keydown\", handleEscape);\n  });\n\n  const handleEscape = (e) => {\n    if (e.code === \"Escape\") {\n      toggleModal();\n    }\n  };\n  const handleClose = (e) => {\n    if (e.currentTarget === e.target) {\n      toggleModal();\n    }\n  };\n\n  return (\n      <div className={style.Overlay} onClick={handleClose}>\n        <div className={style.Modal}>\n          <img\n            src={bigImg.largeImageURL}\n            alt={bigImg.tags}\n          />\n        </div>\n      </div>\n    );\n}\n\nModal.propTypes = {\n  toggleModal: PropTypes.func.isRequired,\n  bigImg: PropTypes.object.isRequired,\n};\n","import { useState, useEffect } from \"react\";\nimport style from \"./styles.module.css\";\nimport ImageGalleryItem from \"./ImageGalleryItem\";\nimport Searchbar from \"./Searchbar\";\nimport ImagesApiService from \"../apiService/ApiService\";\nimport Loader from \"react-loader-spinner\";\nimport Modal from \"./Modal\";\n\nexport default function ImageGallery() {\n  const [imgArray, setImgArray] = useState([]);\n  const [page, setPage] = useState(1);\n  const [status, setStatus] = useState(\"idle\");\n  const [showModal, setShowModal] = useState(false);\n  const [bigImg, setBigImg] = useState(null);\n  const [searchImg, setSearchImg] = useState(\"\");\n\n  useEffect(() => {\n    if(searchImg === ''){return;}\n    setStatus(\"pending\");\n    ImagesApiService(searchImg,page)\n        .then((data) => {\n          if (data.hits.length > 0) {\n            setImgArray(data.hits);\n            setStatus(\"success\");\n          }\n          else {\n            setStatus(\"error\");\n          }\n        })\n        .catch((error) => {\n          setStatus(\"error\");\n        });\n  }, [searchImg]);\n\n  useEffect(() => {\n    if(page === 1){return;}\n    ImagesApiService(searchImg,page)\n        .then((data) => {\n            if (data.hits.length > 0) {\n            setImgArray((prev) => [...prev, ...data.hits]);\n            setStatus(\"success\");\n            onPageScroll();\n          }\n          else {\n            setStatus(\"error\");\n          }\n        })\n        .catch((error) => {\n          setStatus(\"error\");\n        });\n  }, [page]);\n\n  const onPageScroll = () => {\n    window.scrollTo({\n      top: document.documentElement.offsetHeight,\n      behavior: \"smooth\",\n    });\n  };\n\n  const onGalleryImageClick = (e) => {\n    e.preventDefault();\n    let imgSrc = e.target.src;\n    setBigImg(imgArray.find((el) => el.webformatURL === imgSrc));\n    setShowModal(!showModal);\n  };\n\n  return <>\n    <Searchbar onSubmit={(data) => { setSearchImg(data); setPage(1); }}/>\n    {(status === \"idle\") && <p className={style.text}>Hello! Type some searching query</p>}\n    {(status === \"pending\")&& <Loader\n          type=\"Circles\"\n          className={style.loading}\n          color=\"#00BFFF\"\n          height={100}\n          width={100}\n          timeout={7000} //3 secs\n    />}\n    {(status === \"success\") &&\n      <>\n          <ul className={style.ImageGallery}>\n            <ImageGalleryItem\n              imgArray={imgArray}\n              onGalleryImageClick={onGalleryImageClick}\n            />\n          </ul>\n          <button\n            type=\"button\"\n            onClick={() => setPage((prev) => prev + 1)}\n            className={style.Button}>\n            Load more\n          </button>\n          {showModal && (\n            <Modal toggleModal={() => { setShowModal(!showModal) }} bigImg={bigImg}></Modal>\n          )}\n      </>}\n    {(status === \"error\")&& <p className={style.text}>Ooops! Something went wrong</p>}\n    </>\n}","import \"./App.css\";\nimport ImageGallery from \"./components/ImageGallery\";\n\nexport default function App() {\n  return (\n      <div className=\"App\">\n        <ImageGallery/>\n      </div>\n    );\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}