{"version":3,"sources":["components/styles.module.css","components/ImageGalleryItem.js","components/Searchbar.js","components/Modal.js","components/ImageGallery.js","apiService/ApiService.js","App.js","index.js"],"names":["module","exports","ImageGalleryItem","imgArray","onGalleryImageClick","map","el","className","style","src","webformatURL","alt","tags","ImageGalleryItem__image","onClick","id","Searchbar","onSubmit","useState","find","setFind","SearchForm","e","preventDefault","trim","alert","type","SearchForm__button","SearchForm__buttonLabel","SearchForm__input","value","autoComplete","autoFocus","placeholder","onChange","target","Modal","toggleModal","bigImg","useEffect","window","addEventListener","handleEscape","removeEventListener","code","Overlay","currentTarget","largeImageURL","ImageGallery","setImgArray","page","setPage","status","setStatus","showModal","setShowModal","setBigImg","searchImg","setSearchImg","searchQuery","base_url","pixabay","key","per_page","url","axios","get","then","result","data","ImagesApiService","hits","length","prev","onPageScroll","catch","error","scrollTo","top","document","documentElement","offsetHeight","behavior","text","loading","color","height","width","timeout","imgSrc","Button","App","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.900211bd.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"styles_Searchbar__MZQM7\",\"SearchForm\":\"styles_SearchForm__1UtAm\",\"SearchForm__button\":\"styles_SearchForm__button__3mzZE\",\"SearchForm__buttonLabel\":\"styles_SearchForm__buttonLabel__1wo7B\",\"SearchForm__input\":\"styles_SearchForm__input__37bpK\",\"ImageGallery\":\"styles_ImageGallery__2VuoT\",\"ImageGalleryItem\":\"styles_ImageGalleryItem__1XQjo\",\"ImageGalleryItem__image\":\"styles_ImageGalleryItem__image__3RMIn\",\"ImageGalleryItem-image\":\"styles_ImageGalleryItem-image__11jwm\",\"Overlay\":\"styles_Overlay__3VHVn\",\"Modal\":\"styles_Modal__1k8UN\",\"Button\":\"styles_Button__2BlLB\",\"text\":\"styles_text__2THab\",\"loading\":\"styles_loading__3zoc0\"};","import style from \"./styles.module.css\";\nimport PropTypes from \"prop-types\";\n\nexport default function ImageGalleryItem({imgArray, onGalleryImageClick}) {\n  return imgArray.map((el) => (\n      <li className={style.ImageGalleryItem} key={el.id}>\n        <img\n          src={el.webformatURL}\n          alt={el.tags}\n          className={style.ImageGalleryItem__image}\n          onClick={onGalleryImageClick}\n        />\n      </li>\n    ));\n}\n\nImageGalleryItem.propTypes = {\n  imgArray: PropTypes.array.isRequired,\n  onGalleryImageClick: PropTypes.func.isRequired,\n};\n","import { useState } from \"react\";\nimport PropTypes from \"prop-types\";\nimport style from \"./styles.module.css\";\n\nexport default function Searchbar({ onSubmit }) {\n  const [find, setFind] = useState(\"\");\n\n  const handleChangeInput = (e) => {\n    setFind(e.target.value);\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    if (find.trim() === \"\") {\n      alert(\"Please type searchihg query\");\n      return;\n    }\n    onSubmit(find);\n    setFind(\"\");\n  };\n\n  return (\n      <header className={style.Searchbar}>\n        <form className={style.SearchForm} onSubmit={handleSubmit}>\n          <button type=\"submit\" className={style.SearchForm__button}>\n            <span className={style.SearchForm__buttonLabel}>Search</span>\n          </button>\n\n          <input\n            className={style.SearchForm__input}\n            type=\"text\"\n            value={find}\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n            onChange={handleChangeInput}\n          />\n        </form>\n      </header>\n    );\n}\n\nSearchbar.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n};\n","import { useEffect } from \"react\";\nimport style from \"./styles.module.css\";\nimport PropTypes from \"prop-types\";\n\nexport default function Modal({ toggleModal, bigImg }) {\n  useEffect(() => {\n    window.addEventListener(\"keydown\", handleEscape);\n    return () => window.removeEventListener(\"keydown\", handleEscape);\n  });\n\n  const handleEscape = (e) => {\n    if (e.code === \"Escape\") {\n      toggleModal();\n    }\n  };\n  const handleClose = (e) => {\n    if (e.currentTarget === e.target) {\n      toggleModal();\n    }\n  };\n\n  return (\n      <div className={style.Overlay} onClick={handleClose}>\n        <div className={style.Modal}>\n          <img\n            src={bigImg.largeImageURL}\n            alt={bigImg.tags}\n          />\n        </div>\n      </div>\n    );\n}\n\nModal.propTypes = {\n  toggleModal: PropTypes.func.isRequired,\n  bigImg: PropTypes.object.isRequired,\n};\n","import { useState, useEffect } from \"react\";\nimport style from \"./styles.module.css\";\nimport ImageGalleryItem from \"./ImageGalleryItem\";\nimport Searchbar from \"./Searchbar\";\nimport ImagesApiService from \"../apiService/ApiService\";\nimport Loader from \"react-loader-spinner\";\nimport Modal from \"./Modal\";\n\nexport default function ImageGallery() {\n  const [imgArray, setImgArray] = useState([]);\n  const [page, setPage] = useState(1);\n  const [status, setStatus] = useState(\"idle\");\n  const [showModal, setShowModal] = useState(false);\n  const [bigImg, setBigImg] = useState(null);\n  const [searchImg, setSearchImg] = useState(\"\");\n\n  useEffect(() => {\n    if (searchImg.trim() === \"\") { return;}\n    setStatus(\"pending\");\n    ImagesApiService(searchImg,page)\n        .then((data) => {\n          if (data.hits.length > 0 && page===1) {\n            setImgArray(data.hits);\n            setStatus(\"success\");\n          } else if (page > 1) {\n            setImgArray((prev) => [...prev, ...data.hits]);\n            setStatus(\"success\");\n            onPageScroll();\n          }\n          else {\n            setStatus(\"error\");\n          }\n        })\n        .catch((error) => {\n          setStatus(\"error\");\n        });\n  }, [searchImg, page]);\n\n  const onPageScroll = () => {\n    window.scrollTo({\n      top: document.documentElement.offsetHeight,\n      behavior: \"smooth\",\n    });\n  };\n\n  const onGalleryImageClick = (e) => {\n    e.preventDefault();\n    let imgSrc = e.target.src;\n    setBigImg(imgArray.find((el) => el.webformatURL === imgSrc));\n    setShowModal(!showModal);\n  };\n\n  return <>\n    <Searchbar onSubmit={(data) => { setSearchImg(data); setPage(1); }}/>\n    {(status === \"idle\") && <p className={style.text}>Hello! Type some searching query</p>}\n    {(status === \"pending\")&& <Loader\n          type=\"Circles\"\n          className={style.loading}\n          color=\"#00BFFF\"\n          height={100}\n          width={100}\n          timeout={7000} //3 secs\n    />}\n    {(status === \"success\") &&\n      <>\n          <ul className={style.ImageGallery}>\n            <ImageGalleryItem\n              imgArray={imgArray}\n              onGalleryImageClick={onGalleryImageClick}\n            />\n          </ul>\n          <button\n            type=\"button\"\n            onClick={() => setPage((prev) => prev + 1)}\n            className={style.Button}>\n            Load more\n          </button>\n          {showModal && (\n            <Modal toggleModal={() => { setShowModal(!showModal) }} bigImg={bigImg}></Modal>\n          )}\n      </>}\n    {(status === \"error\")&& <p className={style.text}>Ooops! Something went wrong</p>}\n    </>\n}","import axios from \"axios\";\nimport pixabay from \"../apiService/pixabay.json\";\n\nexport default function ImagesApiService(searchQuery, page) {\n  const base_url = pixabay.base_url;\n  const key = pixabay.key;\n  const per_page = pixabay.per_page;\n  const url = `${base_url}?image_type=photo&orientation=horizontal&q=${searchQuery}&page=${page}&per_page=${per_page}&key=${key}`;\n \n  return axios.get(url).then((result) => result.data);\n  \n}","import \"./App.css\";\nimport ImageGallery from \"./components/ImageGallery\";\n\nexport default function App() {\n  return (\n      <div className=\"App\">\n        <ImageGallery/>\n      </div>\n    );\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}